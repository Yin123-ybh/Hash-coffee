# Hash咖啡优惠券系统接口文档

## 1. 优惠券模板管理

### 1.1 创建优惠券模板
**接口地址：** `POST /admin/coupon/template`
**请求参数：**
```json
{
  "name": "新用户专享券",
  "type": 1,
  "discountType": 1,
  "discountValue": 10.00,
  "minAmount": 50.00,
  "maxDiscount": 20.00,
  "totalCount": 1000,
  "perUserLimit": 1,
  "validDays": 30,
  "startTime": "2024-01-01 00:00:00",
  "endTime": "2024-12-31 23:59:59",
  "status": 1
}
```

### 1.2 查询优惠券模板列表
**接口地址：** `GET /admin/coupon/template/page`
**请求参数：**
```json
{
  "page": 1,
  "size": 10,
  "name": "新用户",
  "type": 1,
  "status": 1
}
```

### 1.3 更新优惠券模板
**接口地址：** `PUT /admin/coupon/template/{id}`
**请求参数：** 同创建接口

### 1.4 删除优惠券模板
**接口地址：** `DELETE /admin/coupon/template/{id}`

### 1.5 查询优惠券模板详情
**接口地址：** `GET /admin/coupon/template/{id}`

## 2. 优惠券管理

### 2.1 查询优惠券列表
**接口地址：** `GET /admin/coupon/page`
**请求参数：**
```json
{
  "page": 1,
  "size": 10,
  "templateId": 1,
  "userId": 1,
  "status": 0,
  "startTime": "2024-01-01",
  "endTime": "2024-12-31"
}
```

### 2.2 批量发放优惠券
**接口地址：** `POST /admin/coupon/batch-send`
**请求参数：**
```json
{
  "templateId": 1,
  "userIds": [1, 2, 3],
  "count": 1
}
```

### 2.3 查询用户优惠券
**接口地址：** `GET /admin/coupon/user/{userId}`

## 3. 秒杀活动管理

### 3.1 创建秒杀活动
**接口地址：** `POST /admin/seckill/activity`
**请求参数：**
```json
{
  "name": "咖啡秒杀活动",
  "description": "限时秒杀，数量有限",
  "productId": 1,
  "seckillPrice": 9.90,
  "originalPrice": 18.00,
  "stock": 100,
  "perUserLimit": 1,
  "startTime": "2024-01-01 10:00:00",
  "endTime": "2024-01-01 12:00:00",
  "status": 1
}
```

### 3.2 查询秒杀活动列表
**接口地址：** `GET /admin/seckill/activity/page`
**请求参数：**
```json
{
  "page": 1,
  "size": 10,
  "name": "咖啡",
  "status": 1,
  "startTime": "2024-01-01",
  "endTime": "2024-12-31"
}
```

### 3.3 更新秒杀活动
**接口地址：** `PUT /admin/seckill/activity/{id}`
**请求参数：** 同创建接口

### 3.4 删除秒杀活动
**接口地址：** `DELETE /admin/seckill/activity/{id}`

### 3.5 查询秒杀活动详情
**接口地址：** `GET /admin/seckill/activity/{id}`

## 4. 优惠券统计

### 4.1 优惠券使用统计
**接口地址：** `GET /admin/coupon/statistics`
**请求参数：**
```json
{
  "templateId": 1,
  "startTime": "2024-01-01",
  "endTime": "2024-12-31"
}
```

### 4.2 秒杀活动统计
**接口地址：** `GET /admin/seckill/statistics`
**请求参数：**
```json
{
  "activityId": 1,
  "startTime": "2024-01-01",
  "endTime": "2024-12-31"
}
```

## 5. 数据字典

### 5.1 优惠券类型
- 1: 满减券
- 2: 折扣券  
- 3: 代金券

### 5.2 折扣类型
- 1: 固定金额
- 2: 百分比

### 5.3 优惠券状态
- 0: 未使用
- 1: 已使用
- 2: 已过期

### 5.4 活动状态
- 0: 禁用
- 1: 启用

## 6. 响应格式

### 成功响应
```json
{
  "code": 1,
  "msg": "操作成功",
  "data": {
    // 具体数据
  }
}
```

### 失败响应
```json
{
  "code": 0,
  "msg": "错误信息",
  "data": null
}
```

## 7. 分页响应格式
```json
{
  "code": 1,
  "msg": "查询成功",
  "data": {
    "records": [],
    "total": 100,
    "size": 10,
    "current": 1,
    "pages": 10
  }
}
```
